<!-- Begin page -->
<div id="layout-wrapper">
    <app-header></app-header>
        <!-- ========== App Menu ========== -->
        <app-sidemenu></app-sidemenu>
        <!-- Left Sidebar End -->
        <!-- Vertical Overlay-->
        <div class="vertical-overlay"></div>
        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">
            <div class="page-content">
                <div class="container-fluid">
    
                    <!-- start page title -->
                    <div class="row">
                        <div class="col-12">
                            <div class="page-title-box d-sm-flex align-items-center justify-content-between">
                                <h4 class="mb-sm-0 text-uppercase">Overtime Requests</h4>
    
                                <div class="page-title-right padding-up-5" [hidden]="authorityflg == 0 || otaccess == 0">
                                    <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                                       
                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio2" value="personal" (change)="teamselection(user)" name="user" [(ngModel)]="user">
                                        <label class="btn btn-outline-secondary mb-0 font-type" for="btnradio2">Personal</label>

                                        <input type="radio" class="btn-check" name="btnradio" id="btnradio1"  value="team" name="user" [(ngModel)]="user" (change)="teamselection(user)" >
                                        <label class="btn btn-outline-secondary mb-0 font-type" for="btnradio1">Team</label>

                                    </div>
                                </div>
                                
    
                            </div>
                        </div>
                    </div>
                
    
            <div class="row topbar-up">
                <div class="col-lg-12">
                    <div class="card">                                                 
                        <!-- div team -->
                    <div *ngIf="user === 'team'" [hidden]="authorityflg == 0">
                        <div class="card-body border border-top-0 border-end-0 border-start-0 padding-up-5" id="teaminput" >
                                <form>
                                    <div class="row ">
                                        <div class="col-lg-2 pt-2">
                                                <h6 class="fs-12 font-type"><span>Company</span></h6>
                                                <select class="form-select font-type fs-11" #selectedCompany (change)="onCompanySelected(selectedCompany.value)" aria-label="Default select example" required>
                                                    <option value="-1" selected>All</option>
                                                    <option *ngFor="let combo of companydata" [value]="combo.KEY_ID">{{ combo.DATA_VALUE }}</option>
                                                </select>     
                                        </div>
                                        <div class="col-lg-2 pt-2">
                                                <h6 class="font-type fs-12"><span>Department </span></h6>
                                                <select class="form-select font-type fs-11" #selectedDept (change)="onDeptSelected(selectedDept.value)" aria-label="Default select example" required>
                                                    <option value="-1" selected>All</option>
                                                    <option *ngFor="let combo of deptdata" [value]="combo.KEY_ID">{{ combo.DATA_VALUE }}</option>
                                                </select>  
                                        
                                        </div>
                                        <div class="col-lg-2 pt-2">  
                                                <h6 class="font-type fs-12"><span>Employee Name </span></h6>
                                                <select class="form-select font-type fs-11" #selectedEmp (change)="onEmpSelected(selectedEmp.value)" aria-label="Default select example" required>
                                                    <option value="-1" selected>All</option>
                                                    <option *ngFor="let combo of empdata" [value]="combo.EMP_CODE">{{combo.EMP_NAME}} - {{ combo.EMP_CODE }}</option>
                                                </select>                      
                                        </div>
                                        <div class="col-lg-2 pt-2">  
                                                <h6 class=" font-type fs-12"><span>Status </span></h6>
                                                <select class="form-select font-type fs-11" #selectedstat (change)="onStatSelected(selectedstat.value)" aria-label="Default select example" required>
                                                    <option value="-1" selected>All</option>
                                                    <option *ngFor="let combo of statusdata" [hidden]="combo.DATA_VALUE == 'Cancelled'" [value]="combo.KEY_ID" [selected]="combo.DATA_VALUE == 'Requested'">{{ combo.DATA_VALUE }}</option>
                                            </select>       
                                        </div>
                                        <div class="col-lg-2 pt-2">
                                                <h6 class="font-type fs-12"><span>Start Date </span></h6>
                                                <input type="date" class="form-control font-type fs-11 mb-0"  id="start-datepicker" name="fromdate" [(ngModel)]="fromdate" (ngModelChange)="filter()">      
                                        </div>
                                        <div class="col-lg-2 pt-2">
                                                <h6 class="font-type fs-12"><span>End Date </span></h6>
                                                <input type="date" class="form-control font-type fs-11 mb-0" format="dd-MM-yyyy" id="end-datepicker" name="todate" [(ngModel)]="todate" (ngModelChange)="filter()">
                                        
                                        </div>
                                    </div>
                                </form>
                            </div>
                                
                            <div class="card-body pt-3" >
                                <div>
                                    <div class="table-responsive table-card mb-0">
                                        <table class="table table-nowrap align-middle" id="orderTable">
                                            <thead class="table-light text-white font-type">
                                                <tr>
                                                    <th hidden>Req ID</th>
                                                    <th  id="th-company">Co.</th>
                                                    <th  id="th-dept">Dept</th>
                                                    <th  id="th-emp">Employee</th>
                                                    <th>Request Date</th>
                                                    <th>Weeks</th>
                                                    <th>OT Hours</th>
                                                    <th>Normal Day OT Hours</th>
                                                    <th>PH/WE OT Hours</th>
                                                    <th id="th-status" >Status</th>                                                       
                                                    <th >Action</th>
                                                </tr>
                                            </thead>
                                            <tbody class="list form-check-all font-type fs-11">
                                                <ng-container *ngFor="let item of OTRequests | search : searchInput | pagination: currentPage: itemsPerPage">
                                                <tr class="trstyle fs-11" *ngIf="item.STATUS_VAL !== 'Cancelled'">
                                                    <td id="td-company">{{item.COMPANY}}</td>
                                                    <td id="td-dept">{{item.DEPT}}</td>
                                                    <td id="td-emp">{{item.EMP_NAME}}</td>
                                                    <td>{{item.OT_DATE | date: 'dd-MM-yyyy'}} </td>
                                                    <td>{{item.OT_FROMDATE | date:"MMM"}} {{item.OT_FROMDATE | date:"dd"}} to {{item.OT_TODATE | date:"MMM"}} {{item.OT_TODATE | date:"dd"}}</td>
                                                    <td>{{item.OT_HOURS}}</td>
                                                    <td>{{item.NORMAL_OT_HRS }}</td>
                                                    <td>{{item.OFFDAY_OT}}</td>
                                                    
                                                    <td id="td-status"> <span class="width-budge badge bg-success-subtle text-success p-2">{{item.STATUS_VAL}}</span></td>
                    
                                                    <td>
                                                        <ul class="list-inline hstack gap-2 mb-0">
                                                            <li class="list-inline-item" data-bs-toggle="offcanvas" data-bs-target="#offcanvasleave" aria-controls="offcanvasleave" data-bs-trigger="hover" data-bs-placement="top" title="View Details" (click)="fillrequestdtl(item.REQUEST_ID,item.OT_FROMDATE,item.OT_TODATE)">
                                                                <a href="#" class="text-info d-inline-block">
                                                                    <i class="ri-eye-fill fs-16"></i>
                                                                </a>
                                                            </li>
                                                            <li class="list-inline-item" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Approve" >
                                                            <button type="button" class="btn btn-success btn-sm" data-bs-toggle="modal" id="buttonApprove" data-bs-target="#ApproveRecordModal" (click)="approve(item.REQUEST_ID,item.EMP_CODE)" [disabled]="item.STATUS_VAL!='Pending for Approval'"><i class="fa fa-check-circle" aria-hidden="true" style="font-size: 18px;"></i></button>
                                                            </li>
                                                            <li class="list-inline-item" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Reject" >
                                                                <button type="button" class="btn btn-danger btn-sm" id="buttonReject" data-bs-toggle="modal" data-bs-target="#RejectModal" (click)="setSelectedRequestID(item.REQUEST_ID,item.EMP_CODE)" [disabled]="item.STATUS_VAL!='Pending for Approval'"><i class="fa fa-times-circle-o" aria-hidden="true" style="font-size: 18px;"></i></button>
                                                            </li>
                                                        </ul>
                                                    </td>
                                                </tr>
                                            </ng-container>
                                            </tbody>
                                        </table>
                                        
                                    </div>
                                </div>
                            <div>
                                <div *ngIf="OTRequests">
                                    <div class="align-items-center justify-content-between row text-center text-sm-start"*ngIf="totalSearchResults>0">
                                        <div class="col-sm">
                                          <div class="font-type fs-12 text-muted">
                                            Showing <span class="fw-semibold">{{ getEntriesStart() }}</span>
                                            - <span class="fw-semibold">{{ getEntriesEnd() }}</span>
                                            of <span class="fw-semibold">{{ totalSearchResults }}</span> Results
                                          </div>
                                        </div>
                                        <div class="col-sm">
                                            <div class="font-type fs-12 text-muted">
                                                Total Pages : <span class="fw-semibold"> {{ getTotalPages() }}</span>
                                            </div>
                                        </div>
                                        <div class="col-sm-auto mt-4 mt-sm-0">
                                            <div class="d-flex gap-1 flex-wrap">
                                                <div>
                                                    <div class="input-group">
                                            <input type="number" class="form-control h-20 font-type" style="width:100px" aria-describedby="button-addon2" placeholder="Go to Page" [(ngModel)]="desiredPage" tabindex="1">                                                                    
                                            
                                           <button class="btn btn-orange text-white font-type fs-12 h-20" type="button" id="button-addon2"(click)="goToPage()" tabindex="2">Go</button>
                                      </div>
                                    </div>
                                         
                                        <div class="col-sm-auto mt-3 mt-sm-0">
                                          <ul class="pagination pagination-separated pagination-sm mb-0 justify-content-center">
                                            <li class="page-item">
                                              <button class="page-link" (click)="changePage(currentPage - 1)" [class.disabled-button]="currentPage === 1">←</button>
                                            </li>
                                            <ng-container *ngFor="let pageNumber of getPageNumbers(currentPage)">
                                              <li class="page-item">
                                                <button class="page-link" (click)="changePage(pageNumber)" [class.active]="currentPage === pageNumber">{{ pageNumber }}</button>
                                              </li>
                                            </ng-container>
                                            <li class="page-item">
                                              <button class="page-link" (click)="changePage(currentPage + 1)" [class.disabled-button]="currentPage * itemsPerPage >= totalSearchResults">→</button>
                                            </li>
                                          </ul>
                                        </div>
                                      </div>
                            </div>
                        </div>
                                </div> 
                        </div> 
                    </div> 
                    

                   </div>
                </div>
            </div>
        </div>
        <!-- div team end -->

        <!-- div personal -->
        <div *ngIf="user === 'personal'"  [hidden]="otaccess == 0">

        <!--Input Control-->
        <div class="topbar-up row">
            <div class="col-lg-12">
                    <div class="card">                  
                    <div class="card-body border border-top-0 border-end-0 border-start-0">
                        <div class="row" style="justify-content: center;">
                        <div class="col-md-4">
                            <div class="d-flex align-items-center gap-4">
                            <span class="font-type fs-13 fw-semibold">Week: </span>
                            <input type="week" class="form-control font-type fs-11 mb-0" id="week" name="week" [(ngModel)]="week" (change)="listweekdays()">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            </div>
        </div>
        <!--EndInput Control-->

        <!--Weekly OT List-->
        <div class="row padding-down-10">
            <div class="col-xl-12">
                <div class="card">
                    <div class="card-header align-items-center d-flex h-30">
                        <h4 class="card-title mb-0 flex-grow-1 fs-15 font-type fw-semibold">Weekly Overtime</h4>
                    </div><!-- end card header -->

                    <div class="card-body">
                        <div class="live-preview">
                            <div class="table-responsive">
                                <table class="table align-middle table-nowrap mb-0">
                                    <thead class="table-blue text-white font-type">
                                        <tr class="font-type fs-12 fw-medium">
                                            <th Width="25%">Date</th>
                                            <th Width="25%">In Time</th>
                                            <th Width="25%">Out Time</th>
                                            <th Width="25%">Cloked Hours</th>
                                            <th Width="15%">Overtime</th>
                                        </tr>
                                    </thead>
                                    <tbody class="font-type" style="background-color:#d4ebf8">
                                        <tr *ngFor="let reqdtl of OTWeekly;let i=index">
                                            <td>{{reqdtl.INDATE | date:"dd"}} {{reqdtl.INDATE | date:"MMM"}}</td>
                                            <td>{{reqdtl.INTIME}}</td>
                                            <td>{{reqdtl.OUTTIME}}</td>
                                            <td>{{reqdtl.WORKEDHOURS}}</td>
                                            <td><input type="hidden" name="rowno" #rowno value="i+1"> 
                                                <!-- <input type="time" id="newothrs{{i+1}}" class="form-control font-type fs-12 col-lg-4 h-20 textbox-15" name="newothrs" [(ngModel)]="reqdtl.newothrs" (change)="calculateOT(reqdtl,i+1)" /> -->
                                                <ngx-timepicker-field [format]="24" [(ngModel)]="reqdtl.newothrs" id="newothrs{{i+1}}" (ngModelChange)="calculateOT(reqdtl,i+1)"></ngx-timepicker-field>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot class="table-blue font-type">
                                        <tr>
                                            <td colspan="4" class="fw-semibold">Total</td>
                                            <td class="fw-semibold">{{ottotal}} Hrs</td>
                                        </tr>
                                    </tfoot>
                                </table>
                                <!-- end table -->
                            </div>
                        
                            <!-- end table responsive -->
                        </div>
                        <br/>
                        <div class="col-lg-12">
                            <div class="hstack gap-2 justify-content-end">
                                <button type="submit" class="btn btn-orange font-type" data-bs-toggle="modal" data-bs-target="#SuccessRecordModal" (click)="OTRequestSave()">Submit</button>
                            </div>
                        </div>
                      <!-- </form> -->
                    </div>
                    <!-- end card-body -->
                </div>
            </div>
        </div>
      
        <div class="row">
            <div class="col-lg-12">
                <div class="card" id="orderList">
                    <div class="card-header align-items-center d-flex h-30">
                        <h4 class="card-title mb-0 flex-grow-1 fs-15 font-type fw-semibold">Overtime History</h4>
                    </div>
                    <div class="card-body border border-dashed border-top-0 border-end-0 border-start-0 padding-up-5" id="teaminput" *ngIf="user === 'personal'">
                            <form>
                                <div class="row align-items-center">
                                    <div class="col-lg-3 pt-2"></div>
                                    <div class="col-lg-2 pt-2">
                                        <div>
                                            <h6 class="font-type fs-12"><span>Start Date </span></h6>
                                            <input type="date" class="form-control  font-type fs-11" id="pfromdate" name="pfromdate" [(ngModel)]="pfromdate"  (change)="FetchOTReq_FilterPersonal()">
                                           
                                        </div>
                                    </div>
                                    <div class="col-lg-2 pt-2">
                                        <div>
                                            <h6 class="font-type fs-12"><span>End Date </span></h6>
                                            <input type="date" class="form-control  font-type fs-11" id="ptodate" name="ptodate" [(ngModel)]="ptodate" (change)="FetchOTReq_FilterPersonal()">
                                        </div>
                                    </div>
                              
                                    <div class="col-lg-2 pt-2">
                                        <div>
                                            <h6 class="font-type fs-12"><span>Status </span></h6>
                                            <select class="form-select font-type fs-11" aria-label="Default select example" id="pstatus" name="pstatus" #pstatus required (change)="onStatSelectedPersonal(pstatus.value)">
                                                <option value="-1">All</option>
                                                <option *ngFor="let Status of statusdata" value="{{Status.KEY_ID}}" [selected]="Status.DATA_VALUE == 'Pending for Approval'">{{Status.DATA_VALUE}}</option>  
                                            </select>     
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="card-body pt-3">
                        <div>
                            <div class="table-responsive table-card mb-1 font-type">
                                <table class="table table-nowrap align-middle" id="orderTable">
                                    <thead class="text-white table-light ">
                                        <tr>
                                            <th>Weeks</th>
                                            <th>Submitted Date</th>
                                            <th>OT Hours</th>
                                            <th class="text-center">Status</th>
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody class="list form-check-all font-type">
                                        <tr *ngFor="let otrequests of OTRequestsEmp | search : searchInput | pagination: currentPagePersonal: itemsPerPage">
                                    
                                            <td>{{otrequests.OT_FROMDATE | date:"MMM"}} {{otrequests.OT_FROMDATE | date:"dd"}} to {{otrequests.OT_TODATE | date:"MMM"}} {{otrequests.OT_TODATE | date:"dd"}}</td>
                                            <td class="customer_name">{{otrequests.OT_DATE | date: 'dd-MM-yyyy'}}</td>
                                            <td class="product_name">{{otrequests.OT_HOURS}}</td>
                                            <td class="status"><a data-target="#statusModal" data-bs-toggle="modal" href="#statusModal" (click)="Approvelist(otrequests.REQUEST_ID)"><span class="width-budge badge bg-success-subtle text-success p-2">{{otrequests.STATUS_VAL}}</span></a>
                                            </td>
                                            <td><ul class="list-inline hstack gap-2 mb-0">
                                                <li class="list-inline-item" data-bs-toggle="tooltip" data-bs-trigger="hover" data-bs-placement="top" title="Cancel" data-id="{{otrequests.REQUEST_ID}}">
                                                    <button type="button" class="btn btn-danger btn-sm" id="buttoncancel" data-bs-toggle="modal" data-bs-target="#CancelModal"  (click) = "OTreqId(otrequests.REQUEST_ID)" [disabled]="otrequests.STATUS_VAL!='Pending for Approval'"><i class="fa fa-times-circle-o" aria-hidden="true" style="font-size: 18px;"></i>
                                                    </button>
                                                </li>
                                                <li class="list-inline-item" data-bs-toggle="offcanvas" data-bs-target="#offcanvasleave" aria-controls="offcanvasleave" data-bs-trigger="hover" data-bs-placement="top" title="View Details" (click)="fillrequestdtl(otrequests.REQUEST_ID,otrequests.OT_FROMDATE,otrequests.OT_TODATE)">
                                                    <a href="#" class="text-info d-inline-block">
                                                        <i class="ri-eye-fill fs-16"></i>
                                                    </a>
                                                </li>
                                            </ul>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div *ngIf="OTRequestsEmp">
                                <div class="align-items-center justify-content-between row text-center text-sm-start" *ngIf="totalSearchResultsPersonal>0">
                                    <div class="col-sm">
                                      <div class="font-type fs-12 text-muted">
                                        Showing <span class="fw-semibold">{{ getEntriesStartPersonal() }}</span>
                                        - <span class="fw-semibold">{{ getEntriesEndPersonal() }}</span>
                                        of <span class="fw-semibold">{{ totalSearchResultsPersonal }}</span> Results
                                      </div>
                                    </div>
                                    <div class="col-sm">
                                        <div class="font-type fs-12 text-muted">
                                            Total Pages : <span class="fw-semibold"> {{ getTotalPagesPersonal() }}</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-auto mt-4 mt-sm-0">
                                        <div class="d-flex gap-1 flex-wrap">
                                            <div>
                                                <div class="input-group">
                                        <input type="number" class="form-control h-20 font-type" style="width:100px" aria-describedby="button-addon2" placeholder="Go to Page" [(ngModel)]="desiredPagePersonal" tabindex="1">                                                                    
                                        
                                       <button class="btn btn-orange text-white font-type fs-12 h-20" type="button" id="button-addon2"(click)="goToPagePersonal()" tabindex="2">Go</button>
                                  </div>
                                </div>
                                     
                                    <div class="col-sm-auto mt-3 mt-sm-0">
                                      <ul class="pagination pagination-separated pagination-sm mb-0 justify-content-center">
                                        <li class="page-item">
                                          <button class="page-link" (click)="changePagePersonal(currentPagePersonal - 1)" [class.disabled-button]="currentPagePersonal === 1">←</button>
                                        </li>
                                        <ng-container *ngFor="let pageNumberPersonal of getPageNumbersPersonal(currentPagePersonal)">
                                          <li class="page-item">
                                            <button class="page-link" (click)="changePagePersonal(pageNumberPersonal)" [class.active]="currentPagePersonal === pageNumberPersonal">{{ pageNumberPersonal }}</button>
                                          </li>
                                        </ng-container>
                                        <li class="page-item">
                                          <button class="page-link" (click)="changePagePersonal(currentPagePersonal + 1)" [class.disabled-button]="currentPagePersonal * itemsPerPage >= totalSearchResultsPersonal">→</button>
                                        </li>
                                      </ul>
                                    </div>
                                  </div>
                        </div>
                    </div>
                </div>
                        </div>

                    </div>




                 </div> 
               
                <!-- End div personal -->
                
                </div>
                </div>
               </div>

               <!--  otaccess = 0 and authority = 0 -->
            <div *ngIf="authorityflg == 0 && otaccess == 0">

                <!--Input Control-->
                <div class="topbar-up row">
                    <div class="col-lg-12">
                        <div class="card">                  
                            <div class="card-body border border-top-0 border-end-0 border-start-0">
                                <div class="row" style="justify-content: center;">
                                    <div class="alert alert-danger alert-dismissible" style="width:450px;">                                
                                        <strong>No Access</strong> 
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--EndInput Control-->
                </div>
                <button id="openModalButton" [hidden]="true" data-bs-toggle="modal" data-bs-target="#SuccessRecordModal">Open Modal</button>
                <!--Modal For Success Message Start-->
                <div class="modal fade zoomIn" id="SuccessRecordModal" tabindex="-1" aria-labelledby="SuccessRecordModal" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header bg-orange padding-up-5">
                                <h5 class="modal-title" id="exampleModalLabel">&nbsp;</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal"></button>
                            </div>
                            <div class="modal-body" *ngIf="showModal==1"> 
                                <div class="container">
                                    <h2 class="text-center" style="font-size: 12px;"><i class="fa fa-check-circle text-success" style="font-size: 25px;" style="font-size: 12px;"></i> {{success}}</h2>
                            
                                </div>
                            </div>
                            <div class="modal-body" *ngIf="showModal==2">
                            <div class="container">
                                <h2 class="text-center" style="font-size: 12px;"><i class="fa fa-times-circle text-danger" style="font-size: 25px;" style="font-size: 12px;"></i> {{failed}}</h2>
                                
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
                <!--Modal For Success Message End-->

                <!-- Status Model-->
                <div class="modal fade zoomIn" id="statusModal" tabindex="-1" aria-labelledby="statusModal" aria-hidden="true" style="float: right;">
                    <div class="modal-dialog modal-dialog-centered" style="float: right;">
                        <div class="modal-content" style="float: right;">
                            <div class="modal-header bg-orange padding-up-5">
                                <button type="button" class="btn-close" id="deleteRecord-close" data-bs-dismiss="modal" aria-label="Close" id="btn-close"></button>
                            </div>
                            <div class="table-responsive">
                    
                                <table class="table table-bordered table-nowrap align-middle mb-0">
                                    <thead>
                                        <tr class="font-type">
                                            <th scope="col" style="width: 30%;">LEVEL_ID</th>
                                            <th scope="col" style="width: 30%;">APPROVER </th>
                                            <th scope="col" style="width: 20%;">STATUS </th>
                                            <th scope="col" style="width: 20%;">DATE</th>
                                            <th scope="col" style="width: 20%;">REMARKS</th>
                                        </tr>
                                    </thead>

                                    <tbody class="font-type">
                                        <tr  *ngFor="let approvedtl of approvelist">
                                            <td>{{approvedtl.LEVEL_ID}}</td>
                                            <td>{{approvedtl.APPROVER}}</td>
                                            <td>{{approvedtl.STATUS}}</td>
                                            <td>{{approvedtl.VERIFIED_DATE}}</td>
                                            <td>{{approvedtl.VERIFIED_REMARKS}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- End Status Model-->

                <!-- Approve Model-->
                <div id="ApproveRecordModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="ApproveRecordModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header bg-info-subtle">
                            <h5 class="modal-title" id="exampleModalLabel">&nbsp;</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="close-modal" style="margin-top:-30px;"></button>
                        </div>
                        <div class="modal-body" *ngIf="showModal==1"> 
                            <div class="container">
                                <h2 class="text-center" style="font-size: 12px;"><i class="fa fa-check-circle text-success" style="font-size: 25px;" style="font-size: 12px;"></i> Request Approved</h2>
                            
                            </div>
                        </div>
                        <div class="modal-body" *ngIf="showModal==2">
                            <div class="container">
                                <h2 class="text-center" style="font-size: 12px;"><i class="fa fa-times-circle text-danger" style="font-size: 25px;" style="font-size: 12px;"></i> Failed</h2>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                <!-- End Approve Model-->
    
                <!-- Reject Model-->
                    <div class="modal fade zoomIn" id="RejectModal" tabindex="-1" aria-labelledby="RejectModal" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header bg-info-subtle">
                                    <h5 class="modal-title" id="exampleModalLabel">&nbsp;</h5>
                                    <button type="button" class="btn-close" id="deleteRecord-close" data-bs-dismiss="modal" aria-label="Close" id="btn-close" style="margin-top:-30px;"></button>
                                </div>
                                <form class="tablelist-form" autocomplete="off">
                                    <div class="modal-body">
                                        <input type="hidden" id="id-field" />
                                        <div class="mb-3">
                                            <label class="form-label">Reason</label>
                                            <textarea class="form-control" required #reason [formControl]="reasonControl"></textarea>  
                                        </div>
                                    </div>
                                    <div class="modal-footer">
                                        <div class="hstack gap-2">
                        
                                            <button class="btn btn-danger" id="delete-record" data-bs-toggle="modal" data-bs-target="#RejectedModal" data-bs-dismiss="modal" (click)="reject(selectedRequestID,reason.value)">Reject</button>
                                            <!-- <button type="button" class="btn btn-success" id="edit-btn">Update</button> -->
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- End Reject Model-->
    
                     <!--Cancel Request Model-->
                     <div class="modal fade zoomIn" id="CancelModal" tabindex="-1" aria-labelledby="CancelModal" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered">
                            <div class="modal-content">
                                <div class="modal-header bg-orange padding-up-5">
                                    <h5 class="modal-title">&nbsp;</h5>
                                    <button type="button" #cancelclosebutton class="btn-close" id="deleteRecord-close" data-bs-dismiss="modal" aria-label="Close" id="btn-close"></button>
                                </div>
                                <div class="modal-body text-center">
                                    <div class="text-center">
                                        <h5 class="fs-14">You are about to cancel your request ?</h5>
                                        <p class="text-muted fs-12 mb-4 pt-1">Do you want to continue?</p>
                                        <div class="hstack gap-2 justify-content-center remove">
                                            <button class="btn btn-danger" id="delete-record" (click)="cancelOtReq(selectedRequestID)" data-bs-toggle="modal" data-bs-target="#SuccessRecordModal">Yes</button>
                                            <button class="btn btn-success"  data-bs-dismiss="modal" aria-label="Close" id="btn-close">No</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--End cancel Request Model-->
                    <!-- Detail view -->
                    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasleave" aria-labelledby="offcanvasRightLabel" style="width: 550px;">
                        <div class="offcanvas-header">
                            <h5 class="offcanvas-title font-type" id="offcanvasRightLabel">Overtime Request Details </h5>
                            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close" ></button>
                        </div>
                        <div class="offcanvas-body p-0 overflow-hidden">
                            <div data-simplebar style="height: calc(100vh - 112px);">
                                <!-- <div class="table-responsive"> -->

                                    <table class="table table-bordered table-nowrap align-middle mb-0" style="margin-top: 10px;">
                                        <thead>
                                            <tr class="font-type">
                                                <th scope="col" style="width: 10%;">Date</th>
                                                <th scope="col" style="width: 20%;">In Time </th>
                                                <th scope="col" style="width: 20%;">Out Time</th>
                                                <th scope="col" style="width: 20%;">Shift Time</th>
                                                <th scope="col" style="width: 20%;">OT Type</th>
                                                <th scope="col" style="width: 10%;">OT Hours</th>
                                            </tr>
                                        </thead>

                                        <tbody class="font-type">
                                            <tr *ngFor="let otdetaill of otdetaillists;">
                                                <td>{{otdetaill.OT_DATE | date: 'dd-MM-yyyy'}}</td>
                                                <td>{{otdetaill.OT_FROM_TIME}}</td>
                                                <td>{{otdetaill.OT_TO_TIME}}</td>
                                                <td>{{otdetaill.SHIFT_TIME}}</td>
                                                <td>{{otdetaill.STATUS_VAL}}</td>
                                                <td>{{otdetaill.OT_HOURS}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                <!-- </div> -->
                            </div>
                        </div>
                        
                    </div>
                 </div>
                <!-- container-fluid -->
            </div>
            <!-- End Page-content -->
            <app-footer></app-footer>
        </div>
        <!-- end main content-->
    </div>
    <!-- END layout-wrapper -->
    
